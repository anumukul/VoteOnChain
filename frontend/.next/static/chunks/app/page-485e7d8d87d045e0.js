(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{92336:function(e,t,n){Promise.resolve().then(n.bind(n,57340))},57340:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var a=n(57437),s=n(27648),r=n(64707),o=n(27323),i=n(66070),u=n(62869),l=n(35974),d=n(47170),c=n(94508),p=n(49232),m=n(48736),f=n(38060),y=n(76858);function b(){let{address:e,isConnected:t}=(0,r.m)(),{data:n}=(0,o.u)({address:d.qE.token.address,abi:d.qE.token.abi,functionName:"balanceOf",args:e?[e]:void 0}),{data:l}=(0,o.u)({address:d.qE.token.address,abi:d.qE.token.abi,functionName:"symbol"}),{data:b}=(0,o.u)({address:d.qE.voting.address,abi:d.qE.voting.abi,functionName:"getAllProposals"}),{data:g}=(0,o.u)({address:d.qE.voting.address,abi:d.qE.voting.abi,functionName:"minBalance"}),{data:h}=(0,o.u)({address:d.qE.voting.address,abi:d.qE.voting.abi,functionName:"defaultQuorum"}),v=b&&b.length>0?b.slice(-5).reverse():[];return(0,a.jsxs)("div",{className:"space-y-10 animate-fade-in",children:[(0,a.jsxs)("section",{className:"text-center space-y-4",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold tracking-tight md:text-5xl bg-gradient-to-r from-primary to-violet-400 bg-clip-text text-transparent",children:"On-chain governance"}),(0,a.jsx)("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"Create proposals, vote with GOV tokens, and execute actions on Sepolia. Connect your wallet to get started."})]}),t&&e&&(0,a.jsxs)("section",{className:"grid gap-4 md:grid-cols-3",children:[(0,a.jsxs)(i.Zb,{className:"border-primary/20 bg-card/50",children:[(0,a.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.ll,{className:"text-sm font-medium",children:"Your balance"}),(0,a.jsx)(p.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.aY,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[void 0!==n?(0,c.LH)(n):"—"," ",(0,a.jsx)("span",{className:"text-muted-foreground font-normal text-base",children:null!=l?l:"GOV"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:(0,c.Tg)(e)})]})]}),(0,a.jsxs)(i.Zb,{className:"border-border/50",children:[(0,a.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.ll,{className:"text-sm font-medium",children:"Min to create"}),(0,a.jsx)(m.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.aY,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[void 0!==g?(0,c.LH)(g):"—"," ",(0,a.jsx)("span",{className:"text-muted-foreground font-normal text-base",children:"GOV"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Required balance to create a proposal"})]})]}),(0,a.jsxs)(i.Zb,{className:"border-border/50",children:[(0,a.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.ll,{className:"text-sm font-medium",children:"Default quorum"}),(0,a.jsx)(f.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.aY,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[void 0!==h?(0,c.LH)(h):"—"," ",(0,a.jsx)("span",{className:"text-muted-foreground font-normal text-base",children:"GOV"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Minimum votes for proposal to pass"})]})]})]}),(0,a.jsxs)("section",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold",children:"Recent proposals"}),(0,a.jsx)(u.z,{asChild:!0,children:(0,a.jsxs)(s.default,{href:"/proposals",children:["View all",(0,a.jsx)(y.Z,{className:"ml-2 h-4 w-4"})]})})]}),0===v.length?(0,a.jsx)(i.Zb,{className:"border-dashed",children:(0,a.jsxs)(i.aY,{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,a.jsx)(m.Z,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:"No proposals yet. Create the first one."}),(0,a.jsx)(u.z,{asChild:!0,children:(0,a.jsx)(s.default,{href:"/create",children:"Create proposal"})})]})}):(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:v.map(e=>(0,a.jsx)(x,{proposalId:e},e))})]})]})}function x(e){var t;let{proposalId:n}=e,{data:r}=(0,o.u)({address:d.qE.voting.address,abi:d.qE.voting.abi,functionName:"getProposal",args:[n]});if(!r)return null;let[,u,p,m,f,,y,b,x,g,,,,,h]=r,v=Number(h),j=null!==(t=d.So[v])&&void 0!==t?t:"Unknown";return(0,a.jsx)(s.default,{href:"/proposals/".concat(n),children:(0,a.jsxs)(i.Zb,{className:"hover:border-primary/40 transition-colors cursor-pointer h-full",children:[(0,a.jsxs)(i.Ol,{className:"pb-2",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,a.jsx)(i.ll,{className:"text-base line-clamp-2",children:u||"Untitled proposal"}),(0,a.jsx)(l.C,{variant:1===v?"warning":3===v||4===v?"success":2===v||5===v||6===v?"destructive":"secondary",children:j})]}),(0,a.jsxs)(i.SZ,{children:["By ",(0,c.Tg)(p)," \xb7 ",y.length," options"]})]}),(0,a.jsxs)(i.aY,{className:"pt-0",children:[(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Votes: ",(0,c.LH)(x),g&&b&&" \xb7 Executed"]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Ends ",new Date(1e3*Number(f)).toLocaleDateString()]})]})]})})}},35974:function(e,t,n){"use strict";n.d(t,{C:function(){return i}});var a=n(57437);n(2265);var s=n(90535),r=n(94508);let o=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-emerald-500/20 text-emerald-400 border-emerald-500/30",warning:"border-transparent bg-amber-500/20 text-amber-400 border-amber-500/30"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:n,...s}=e;return(0,a.jsx)("div",{className:(0,r.cn)(o({variant:n}),t),...s})}},62869:function(e,t,n){"use strict";n.d(t,{z:function(){return l}});var a=n(57437),s=n(2265),r=n(85293),o=n(90535),i=n(94508);let u=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,t)=>{let{className:n,variant:s,size:o,asChild:l=!1,...d}=e,c=l?r.g7:"button";return(0,a.jsx)(c,{className:(0,i.cn)(u({variant:s,size:o,className:n})),ref:t,...d})});l.displayName="Button"},66070:function(e,t,n){"use strict";n.d(t,{Ol:function(){return i},SZ:function(){return l},Zb:function(){return o},aY:function(){return d},ll:function(){return u}});var a=n(57437),s=n(2265),r=n(94508);let o=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...s})});o.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",n),...s})});i.displayName="CardHeader";let u=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)("h3",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",n),...s})});u.displayName="CardTitle";let l=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)("p",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",n),...s})});l.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",n),...s})});d.displayName="CardContent",s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",n),...s})}).displayName="CardFooter"},47170:function(e,t,n){"use strict";n.d(t,{So:function(){return s},qE:function(){return a},qZ:function(){return r}});let a={token:{address:"0xe1267DBA9e3E3749aAF1eFfbC3C4D409f4CbF7Bf",abi:[{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}]},voting:{address:"0xF51F3bD4C08b510e704058694AD59B690784055F",abi:[{inputs:[],name:"minBalance",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"defaultQuorum",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"votingToken",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllProposals",outputs:[{name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"offset",type:"uint256"},{name:"limit",type:"uint256"}],name:"getProposalsPaginated",outputs:[{name:"proposals_",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"proposalId",type:"bytes32"}],name:"getProposal",outputs:[{name:"id",type:"bytes32"},{name:"description",type:"string"},{name:"creator",type:"address"},{name:"startTime",type:"uint256"},{name:"endTime",type:"uint256"},{name:"snapshotBlock",type:"uint256"},{name:"options",type:"uint256[]"},{name:"executed",type:"bool"},{name:"totalVotes",type:"uint256"},{name:"resultsCalculated",type:"bool"},{name:"target",type:"address"},{name:"data",type:"bytes"},{name:"timeLockDuration",type:"uint256"},{name:"executionDeadline",type:"uint256"},{name:"state",type:"uint8"},{name:"customThreshold",type:"uint256"},{name:"customQuorum",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"proposalId",type:"bytes32"}],name:"getProposalResults",outputs:[{name:"winners",type:"uint256[]"},{name:"voteCounts",type:"uint256[]"},{name:"totalVotes",type:"uint256"},{name:"tie",type:"bool"},{name:"noVotes",type:"bool"},{name:"thresholdMet",type:"bool"},{name:"quorumMet",type:"bool"},{name:"calculatedAt",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"proposalId",type:"bytes32"},{name:"option",type:"uint256"}],name:"getVoteCount",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"proposalId",type:"bytes32"},{name:"voter",type:"address"}],name:"getVoterInfo",outputs:[{name:"hasVoted",type:"bool"},{name:"weight",type:"uint256"},{name:"votedOption",type:"uint256"},{name:"snapshotPower",type:"uint256"},{name:"delegatedPower",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"proposalId",type:"bytes32"},{name:"voter",type:"address"}],name:"getLockedTokens",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"description",type:"string"},{name:"startTime",type:"uint256"},{name:"endTime",type:"uint256"},{name:"options",type:"uint256[]"},{name:"target",type:"address"},{name:"data",type:"bytes"},{name:"timeLockDuration_",type:"uint256"},{name:"customThreshold",type:"uint256"},{name:"customQuorum",type:"uint256"}],name:"createProposal",outputs:[{name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"proposalId",type:"bytes32"},{name:"option",type:"uint256"},{name:"weight",type:"uint256"},{name:"powerSource",type:"uint8"}],name:"vote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"proposalId",type:"bytes32"}],name:"calculateResults",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"proposalId",type:"bytes32"}],name:"executeProposal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"proposalId",type:"bytes32"}],name:"withdrawLockedTokens",outputs:[],stateMutability:"nonpayable",type:"function"}]},target:{address:"0xC799F442F85D4d28DA377342F30C39041b9c102A"}},s=["Pending","Active","Defeated","Succeeded","Executed","Canceled","Expired"],r={Balance:0,Snapshot:1,Delegated:2}},94508:function(e,t,n){"use strict";n.d(t,{LH:function(){return i},Tg:function(){return o},cn:function(){return r},p6:function(){return u}});var a=n(61994),s=n(53335);function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.m6)((0,a.W)(t))}function o(e){return!e||e.length<10?e:"".concat(e.slice(0,6),"...").concat(e.slice(-4))}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,n=10n**BigInt(t),a=e/n,s=(e%n).toString().padStart(t,"0").slice(0,4).replace(/0+$/,"");return s?"".concat(a,".").concat(s):a.toString()}function u(e){return new Date(1e3*Number(e)).toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"})}}},function(e){e.O(0,[6440,7648,2104,2971,2117,1744],function(){return e(e.s=92336)}),_N_E=e.O()}]);