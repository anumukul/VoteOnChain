(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[628],{1507:function(e,t,n){Promise.resolve().then(n.bind(n,84402))},84402:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var a=n(57437),r=n(27648),s=n(27323),i=n(66070),o=n(35974),u=n(47170),p=n(94508),l=n(48736);function d(){let{data:e}=(0,s.u)({address:u.qE.voting.address,abi:u.qE.voting.abi,functionName:"getAllProposals"}),t=[...null!=e?e:[]].reverse();return(0,a.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Proposals"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-1",children:"Browse and vote on governance proposals."})]}),0===t.length?(0,a.jsx)(i.Zb,{className:"border-dashed",children:(0,a.jsxs)(i.aY,{className:"flex flex-col items-center justify-center py-20 text-center",children:[(0,a.jsx)(l.Z,{className:"h-16 w-16 text-muted-foreground mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground text-lg mb-2",children:"No proposals yet"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm mb-6 max-w-sm",children:"Create the first proposal to start on-chain governance."}),(0,a.jsx)(r.default,{href:"/create",className:"text-primary font-medium hover:underline",children:"Create proposal â†’"})]})}):(0,a.jsx)("ul",{className:"space-y-4",children:t.map(e=>(0,a.jsx)("li",{children:(0,a.jsx)(c,{proposalId:e})},e))})]})}function c(e){var t;let{proposalId:n}=e,{data:l}=(0,s.u)({address:u.qE.voting.address,abi:u.qE.voting.abi,functionName:"getProposal",args:[n]});if(!l)return null;let[,d,c,m,y,,f,b,g,,,,,,x]=l,h=Number(x),v=null!==(t=u.So[h])&&void 0!==t?t:"Unknown";return(0,a.jsx)(r.default,{href:"/proposals/".concat(n),children:(0,a.jsx)(i.Zb,{className:"hover:border-primary/40 transition-colors cursor-pointer",children:(0,a.jsxs)(i.aY,{className:"p-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("p",{className:"font-medium line-clamp-2",children:d||"Untitled"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:["By ",(0,p.Tg)(c)," \xb7 ",f.length," options \xb7"," ",(0,p.LH)(g)," votes"]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-0.5",children:["Ends ",new Date(1e3*Number(y)).toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 shrink-0",children:[(0,a.jsx)(o.C,{variant:1===h?"warning":3===h||4===h?"success":2===h||5===h||6===h?"destructive":"secondary",children:v}),b&&(0,a.jsx)(o.C,{variant:"outline",children:"Executed"})]})]})})})}},35974:function(e,t,n){"use strict";n.d(t,{C:function(){return o}});var a=n(57437);n(2265);var r=n(90535),s=n(94508);let i=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-emerald-500/20 text-emerald-400 border-emerald-500/30",warning:"border-transparent bg-amber-500/20 text-amber-400 border-amber-500/30"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:n,...r}=e;return(0,a.jsx)("div",{className:(0,s.cn)(i({variant:n}),t),...r})}},66070:function(e,t,n){"use strict";n.d(t,{Ol:function(){return o},SZ:function(){return p},Zb:function(){return i},aY:function(){return l},ll:function(){return u}});var a=n(57437),r=n(2265),s=n(94508);let i=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...r})});i.displayName="Card";let o=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",n),...r})});o.displayName="CardHeader";let u=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",n),...r})});u.displayName="CardTitle";let p=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",n),...r})});p.displayName="CardDescription";let l=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",n),...r})});l.displayName="CardContent",r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",n),...r})}).displayName="CardFooter"},47170:function(e,t,n){"use strict";n.d(t,{So:function(){return r},qE:function(){return a},qZ:function(){return s}});let a={token:{address:"0xe1267DBA9e3E3749aAF1eFfbC3C4D409f4CbF7Bf",abi:[{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}]},voting:{address:"0xF51F3bD4C08b510e704058694AD59B690784055F",abi:[{inputs:[],name:"minBalance",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"defaultQuorum",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"votingToken",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllProposals",outputs:[{name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"offset",type:"uint256"},{name:"limit",type:"uint256"}],name:"getProposalsPaginated",outputs:[{name:"proposals_",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"proposalId",type:"bytes32"}],name:"getProposal",outputs:[{name:"id",type:"bytes32"},{name:"description",type:"string"},{name:"creator",type:"address"},{name:"startTime",type:"uint256"},{name:"endTime",type:"uint256"},{name:"snapshotBlock",type:"uint256"},{name:"options",type:"uint256[]"},{name:"executed",type:"bool"},{name:"totalVotes",type:"uint256"},{name:"resultsCalculated",type:"bool"},{name:"target",type:"address"},{name:"data",type:"bytes"},{name:"timeLockDuration",type:"uint256"},{name:"executionDeadline",type:"uint256"},{name:"state",type:"uint8"},{name:"customThreshold",type:"uint256"},{name:"customQuorum",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"proposalId",type:"bytes32"}],name:"getProposalResults",outputs:[{name:"winners",type:"uint256[]"},{name:"voteCounts",type:"uint256[]"},{name:"totalVotes",type:"uint256"},{name:"tie",type:"bool"},{name:"noVotes",type:"bool"},{name:"thresholdMet",type:"bool"},{name:"quorumMet",type:"bool"},{name:"calculatedAt",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"proposalId",type:"bytes32"},{name:"option",type:"uint256"}],name:"getVoteCount",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"proposalId",type:"bytes32"},{name:"voter",type:"address"}],name:"getVoterInfo",outputs:[{name:"hasVoted",type:"bool"},{name:"weight",type:"uint256"},{name:"votedOption",type:"uint256"},{name:"snapshotPower",type:"uint256"},{name:"delegatedPower",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"proposalId",type:"bytes32"},{name:"voter",type:"address"}],name:"getLockedTokens",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"description",type:"string"},{name:"startTime",type:"uint256"},{name:"endTime",type:"uint256"},{name:"options",type:"uint256[]"},{name:"target",type:"address"},{name:"data",type:"bytes"},{name:"timeLockDuration_",type:"uint256"},{name:"customThreshold",type:"uint256"},{name:"customQuorum",type:"uint256"}],name:"createProposal",outputs:[{name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"proposalId",type:"bytes32"},{name:"option",type:"uint256"},{name:"weight",type:"uint256"},{name:"powerSource",type:"uint8"}],name:"vote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"proposalId",type:"bytes32"}],name:"calculateResults",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"proposalId",type:"bytes32"}],name:"executeProposal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"proposalId",type:"bytes32"}],name:"withdrawLockedTokens",outputs:[],stateMutability:"nonpayable",type:"function"}]},target:{address:"0xC799F442F85D4d28DA377342F30C39041b9c102A"}},r=["Pending","Active","Defeated","Succeeded","Executed","Canceled","Expired"],s={Balance:0,Snapshot:1,Delegated:2}},94508:function(e,t,n){"use strict";n.d(t,{LH:function(){return o},Tg:function(){return i},cn:function(){return s},p6:function(){return u}});var a=n(61994),r=n(53335);function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.m6)((0,a.W)(t))}function i(e){return!e||e.length<10?e:"".concat(e.slice(0,6),"...").concat(e.slice(-4))}function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,n=10n**BigInt(t),a=e/n,r=(e%n).toString().padStart(t,"0").slice(0,4).replace(/0+$/,"");return r?"".concat(a,".").concat(r):a.toString()}function u(e){return new Date(1e3*Number(e)).toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"})}},48736:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});let a=(0,n(79205).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},27323:function(e,t,n){"use strict";n.d(t,{u:function(){return u}});var a=n(37691),r=n(27534),s=n(24432),i=n(44005),o=n(12364);function u(){var e,t,n;let u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{abi:p,address:l,functionName:d,query:c={}}=u,m=u.code,y=(0,o.Z)(u),f=(0,i.x)({config:y}),b=function(e,t={}){return{async queryFn({queryKey:n}){let r=t.abi;if(!r)throw Error("abi is required");let{functionName:s,scopeKey:i,...o}=n[1],u=(()=>{let e=n[1];if(e.address)return{address:e.address};if(e.code)return{code:e.code};throw Error("address or code is required")})();if(!s)throw Error("functionName is required");return(0,a.L)(e,{abi:r,functionName:s,args:o.args,...u,...o})},queryKey:function(e={}){let{abi:t,...n}=e;return["readContract",(0,r.OP)(n)]}(t)}}(y,{...u,chainId:null!==(e=u.chainId)&&void 0!==e?e:f}),g=!!((l||m)&&p&&d&&(null===(t=c.enabled)||void 0===t||t));return(0,s.aM)({...c,...b,enabled:g,structuralSharing:null!==(n=c.structuralSharing)&&void 0!==n?n:r.if})}}},function(e){e.O(0,[6440,7648,2971,2117,1744],function(){return e(e.s=1507)}),_N_E=e.O()}]);