(()=>{var e={};e.id=1931,e.ids=[1931],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},85807:e=>{"use strict";e.exports=require("module")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},14752:e=>{"use strict";e.exports=require("pino-pretty")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},6162:e=>{"use strict";e.exports=require("worker_threads")},71568:e=>{"use strict";e.exports=require("zlib")},6005:e=>{"use strict";e.exports=require("node:crypto")},2438:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),t(48646),t(94435),t(90996);var r=t(30170),a=t(45002),n=t(83876),i=t.n(n),o=t(66299),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(s,l);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,48646)),"/Users/anubhavsingh/Desktop/myprojects/VoteOnChain/frontend/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,94435)),"/Users/anubhavsingh/Desktop/myprojects/VoteOnChain/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,90996,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/anubhavsingh/Desktop/myprojects/VoteOnChain/frontend/app/page.tsx"],u="/page",m={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},82997:(e,s,t)=>{Promise.resolve().then(t.bind(t,56366))},56366:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>k});var r=t(97247),a=t(28964),n=t(79906),i=t(60781),o=t(53041),l=t(83705),d=t(47139),c=t(81814),u=t(61362),m=t(41755),x=t(27757),p=t(58053),f=t(88964),h=t(70170),g=t(22394),b=t(76156),j=t(25008),v=t(26323);let N=(0,v.Z)("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);var y=t(66903),q=t(24978),w=t(8749);let C=(0,v.Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);function k(){let{address:e,isConnected:s}=(0,i.m)(),t=(0,o.x)(),f=(0,m.NL)(),[v,k]=(0,a.useState)(""),[Z,O]=(0,a.useState)("1000"),{writeContract:P,data:_,isPending:M,error:S}=(0,l.S)(),{isLoading:V}=(0,d.A)({hash:_}),$=t===b.Kj,{data:G}=(0,c.u)({address:b.qE.token.address,abi:b.qE.token.abi,functionName:"balanceOf",args:e?[e]:void 0}),{data:R}=(0,c.u)({address:b.qE.token.address,abi:b.qE.token.abi,functionName:"symbol"}),{data:I}=(0,c.u)({address:b.qE.voting.address,abi:b.qE.voting.abi,functionName:"getAllProposals"}),{data:z}=(0,c.u)({address:b.qE.voting.address,abi:b.qE.voting.abi,functionName:"minBalance"}),{data:A}=(0,c.u)({address:b.qE.voting.address,abi:b.qE.voting.abi,functionName:"defaultQuorum"}),{data:L}=(0,c.u)({address:b.qE.voting.address,abi:b.qE.voting.abi,functionName:"owner"}),{data:D}=(0,c.u)({address:b.qE.voting.address,abi:b.qE.voting.abi,functionName:"paused"}),{writeContract:H,isPending:Y}=(0,l.S)(),{writeContract:B,isPending:T}=(0,l.S)(),U=e&&L&&e.toLowerCase()===L.toLowerCase(),F=I&&I.length>0?I.slice(-5).reverse():[];return(0,r.jsxs)("div",{className:"space-y-10 animate-fade-in",children:[(0,r.jsxs)("section",{className:"text-center space-y-4",children:[r.jsx("h1",{className:"text-4xl font-bold tracking-tight md:text-5xl bg-gradient-to-r from-primary to-violet-400 bg-clip-text text-transparent",children:"On-chain governance"}),r.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"Create proposals, vote with GOV tokens, and execute actions on Sepolia. Connect your wallet to get started."})]}),s&&e&&(0,r.jsxs)("section",{className:"grid gap-4 md:grid-cols-3",children:[(0,r.jsxs)(x.Zb,{className:"border-primary/20 bg-card/50",children:[(0,r.jsxs)(x.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(x.ll,{className:"text-sm font-medium",children:"Your balance"}),r.jsx(N,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(x.aY,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold",children:[void 0!==G?(0,j.LH)(G):"—"," ",r.jsx("span",{className:"text-muted-foreground font-normal text-base",children:R??"GOV"})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:(0,j.Tg)(e)})]})]}),(0,r.jsxs)(x.Zb,{className:"border-border/50",children:[(0,r.jsxs)(x.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(x.ll,{className:"text-sm font-medium",children:"Min to create"}),r.jsx(y.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(x.aY,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold",children:[void 0!==z?(0,j.LH)(z):"—"," ",r.jsx("span",{className:"text-muted-foreground font-normal text-base",children:"GOV"})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Required balance to create a proposal"})]})]}),(0,r.jsxs)(x.Zb,{className:"border-border/50",children:[(0,r.jsxs)(x.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(x.ll,{className:"text-sm font-medium",children:"Default quorum"}),r.jsx(q.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(x.aY,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold",children:[void 0!==A?(0,j.LH)(A):"—"," ",r.jsx("span",{className:"text-muted-foreground font-normal text-base",children:"GOV"})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Minimum votes for proposal to pass"})]})]})]}),s&&U&&r.jsx("section",{children:(0,r.jsxs)(x.Zb,{className:"border-destructive/30 bg-destructive/5",children:[(0,r.jsxs)(x.Ol,{children:[r.jsx(x.ll,{className:"text-base",children:"Contract owner"}),r.jsx(x.SZ,{children:"Pause or unpause the voting contract. When paused, no one can create proposals or vote; only emergency cancel is allowed."})]}),(0,r.jsxs)(x.aY,{className:"flex flex-wrap gap-2",children:[D?(0,r.jsxs)(p.z,{variant:"default",onClick:()=>B({address:b.qE.voting.address,abi:b.qE.voting.abi,functionName:"unpause",gas:100000n},{onSuccess:()=>f.invalidateQueries({queryKey:["readContract"]})}),disabled:T,children:[T&&r.jsx(w.Z,{className:"h-4 w-4 animate-spin mr-2"}),"Unpause"]}):(0,r.jsxs)(p.z,{variant:"destructive",onClick:()=>H({address:b.qE.voting.address,abi:b.qE.voting.abi,functionName:"pause",gas:100000n},{onSuccess:()=>f.invalidateQueries({queryKey:["readContract"]})}),disabled:Y,children:[Y&&r.jsx(w.Z,{className:"h-4 w-4 animate-spin mr-2"}),"Pause contract"]}),r.jsx("span",{className:"text-sm text-muted-foreground self-center",children:D?"Contract is paused.":"Contract is active."})]})]})}),s&&$&&r.jsx("section",{children:(0,r.jsxs)(x.Zb,{className:"border-amber-500/30 bg-amber-500/5",children:[(0,r.jsxs)(x.Ol,{children:[(0,r.jsxs)(x.ll,{className:"text-base flex items-center gap-2",children:[r.jsx(N,{className:"h-4 w-4"}),"Mint test GOV (testnet only)"]}),r.jsx(x.SZ,{children:"GOV is a mock token on Sepolia. Anyone can mint to any address for testing."})]}),(0,r.jsxs)(x.aY,{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"grid gap-2 sm:flex sm:items-end",children:[(0,r.jsxs)("div",{className:"flex-1 space-y-1",children:[r.jsx(g._,{htmlFor:"mint-to",children:"Recipient address"}),r.jsx(h.I,{id:"mint-to",placeholder:"0x...",value:v,onChange:e=>k(e.target.value),className:"font-mono text-sm"})]}),(0,r.jsxs)("div",{className:"w-32 space-y-1",children:[r.jsx(g._,{htmlFor:"mint-amount",children:"Amount (GOV)"}),r.jsx(h.I,{id:"mint-amount",type:"text",inputMode:"decimal",placeholder:"1000",value:Z,onChange:e=>O(e.target.value)})]}),(0,r.jsxs)(p.z,{onClick:()=>{try{let e=v.trim();if(!e||!e.startsWith("0x")||e.length<42)return;let s=(0,u.f)(Z.trim()||"0");if(0n===s)return;P({address:b.qE.token.address,abi:b.qE.token.abi,functionName:"mint",args:[e,s],gas:100000n},{onSuccess:()=>f.invalidateQueries({queryKey:["readContract"]})})}catch{}},disabled:!v.trim().startsWith("0x")||v.trim().length<42||!Z.trim()||M||V,children:[(M||V)&&r.jsx(w.Z,{className:"h-4 w-4 animate-spin mr-2"}),"Mint GOV"]})]}),S&&r.jsx("p",{className:"text-sm text-destructive",children:S.message})]})]})}),(0,r.jsxs)("section",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-2xl font-semibold",children:"Recent proposals"}),r.jsx(p.z,{asChild:!0,children:(0,r.jsxs)(n.default,{href:"/proposals",children:["View all",r.jsx(C,{className:"ml-2 h-4 w-4"})]})})]}),0===F.length?r.jsx(x.Zb,{className:"border-dashed",children:(0,r.jsxs)(x.aY,{className:"flex flex-col items-center justify-center py-16 text-center",children:[r.jsx(y.Z,{className:"h-12 w-12 text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"No proposals yet. Create the first one."}),r.jsx(p.z,{asChild:!0,children:r.jsx(n.default,{href:"/create",children:"Create proposal"})})]})}):r.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:F.map(e=>r.jsx(E,{proposalId:e},e))})]})]})}function E({proposalId:e}){let{data:s}=(0,c.u)({address:b.qE.voting.address,abi:b.qE.voting.abi,functionName:"getProposal",args:[e]});if(!s)return null;let[,t,a,i,o,,l,d,u,m,,,,p,h]=s,g=Number(h),{displayStateNum:v,displayLabel:N}=(0,j.Th)(i,o,p,m,g,!!d);return r.jsx(n.default,{href:`/proposals/${e}`,children:(0,r.jsxs)(x.Zb,{className:"hover:border-primary/40 transition-colors cursor-pointer h-full",children:[(0,r.jsxs)(x.Ol,{className:"pb-2",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[r.jsx(x.ll,{className:"text-base line-clamp-2",children:t||"Untitled proposal"}),r.jsx(f.C,{variant:1===v?"warning":3===v||4===v?"success":2===v||5===v||6===v?"destructive":"secondary",children:N})]}),(0,r.jsxs)(x.SZ,{children:["By ",(0,j.Tg)(a)," \xb7 ",l.length," options"]})]}),(0,r.jsxs)(x.aY,{className:"pt-0",children:[(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Votes: ",(0,j.LH)(u),m&&d&&" \xb7 Executed"]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Ends ",new Date(1e3*Number(o)).toLocaleDateString()]})]})]})})}},88964:(e,s,t)=>{"use strict";t.d(s,{C:()=>o});var r=t(97247);t(28964);var a=t(87972),n=t(25008);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-emerald-500/20 text-emerald-400 border-emerald-500/30",warning:"border-transparent bg-amber-500/20 text-amber-400 border-amber-500/30"}},defaultVariants:{variant:"default"}});function o({className:e,variant:s,...t}){return r.jsx("div",{className:(0,n.cn)(i({variant:s}),e),...t})}},27757:(e,s,t)=>{"use strict";t.d(s,{Ol:()=>o,SZ:()=>d,Zb:()=>i,aY:()=>c,ll:()=>l});var r=t(97247),a=t(28964),n=t(25008);let i=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));i.displayName="Card";let o=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...s}));o.displayName="CardHeader";let l=a.forwardRef(({className:e,...s},t)=>r.jsx("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));l.displayName="CardTitle";let d=a.forwardRef(({className:e,...s},t)=>r.jsx("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",e),...s}));d.displayName="CardDescription";let c=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,n.cn)("p-6 pt-0",e),...s}));c.displayName="CardContent",a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},70170:(e,s,t)=>{"use strict";t.d(s,{I:()=>i});var r=t(97247),a=t(28964),n=t(25008);let i=a.forwardRef(({className:e,type:s,...t},a)=>r.jsx("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t}));i.displayName="Input"},22394:(e,s,t)=>{"use strict";t.d(s,{_:()=>d});var r=t(97247),a=t(28964),n=t(71964),i=t(87972),o=t(25008);let l=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef(({className:e,...s},t)=>r.jsx(n.f,{ref:t,className:(0,o.cn)(l(),e),...s}));d.displayName=n.f.displayName},66903:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(26323).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},48646:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(45347).createProxy)(String.raw`/Users/anubhavsingh/Desktop/myprojects/VoteOnChain/frontend/app/page.tsx#default`)},61362:(e,s,t)=>{"use strict";t.d(s,{f:()=>i});var r=t(8949),a=t(77921);class n extends a.G{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function i(e,s="wei"){return function(e,s){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new n({value:e});let[t,r="0"]=e.split("."),a=t.startsWith("-");if(a&&(t=t.slice(1)),r=r.replace(/(0+)$/,""),0===s)1===Math.round(Number(`.${r}`))&&(t=`${BigInt(t)+1n}`),r="";else if(r.length>s){let[e,a,n]=[r.slice(0,s-1),r.slice(s-1,s),r.slice(s)],i=Math.round(Number(`${a}.${n}`));(r=i>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${i}`).length>s&&(r=r.slice(1),t=`${BigInt(t)+1n}`),r=r.slice(0,s)}else r=r.padEnd(s,"0");return BigInt(`${a?"-":""}${t}${r}`)}(e,r.ez[s])}}};var s=require("../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[4576,2165,7258],()=>t(2438));module.exports=r})();